# マイクロサービスとは

参照: [マイクロサービス](https://ja.wikipedia.org/wiki/%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9)

**ソフトウェア開発技法の1つ**であり、1つのアプリケーションを、ビジネス機能に沿った複数の小さいサービスの集合体として構成する**サービス指向アーキテクチャの1種**である。

## 1. マイクロサービスの概要

> 2014年、ThoughtWorks社のマーチン・ファウラーとジェームス・ルイスが提唱したソフトウェアアーキテクチャである。

マイクロサービスの明確な定義はないが、徐々にコンセンサス(意見の一致)が形成されつつある。

[参考: マイクロサービス image](https://d1.awsstatic.com/Developer%20Marketing/containers/monolith_1-monolith-microservices.70b547e30e30b013051d58a93a6e35e77408a2a8.png)
[参考: マイクロサービスアーキテクチャとモノリシック](https://thinkit.co.jp/sites/default/files/article_node/bft_container_ojisan_10_01.jpg)

- マイクロサービスアーキテクチャ
  - モノリシック(一枚岩)なサービスを、ビジネス機能に剃って複数の小さなサービスに分割するアーキテクチャ。

- 特徴
  - **各システムをさまざまな手法で分散・協調させて、あたかも大きなひとつのシステムの集合体であるかのように見せること**が特徴
  - バックエンドサービスの開発から生まれたが、フロントエンドでも用いられる。
  - 各マイクロサービスは、他のマイクロサービスと決められたプロトコル(HTTP/HTTPS・WebSockets・AMZPなど)に従って、連携しながら動作する。

## 2. マイクロサービスのメリット

- システムやアプリケーションが大きくなっても機能追加や変更がしやすい

- 拡張性が高い
ある機能(サービス)を拡張した場合は、**該当のマイクロサービスにのみ変更を加えることが可能**なため、拡張性が高く、デプロイまでがスピーディーに行える。

- 障害時のリスク回避になる。
それぞれのサービスごとに独立して開発・実装を行えることによるメリット
問題発生時は問**題のある部分のみを切り離す**。

- 技術による制約を受けづらい
他のサービスがどのような技術で作られているかに制約を受けない。
**サービスごとに別々のコードを利用する**、**あるサービスでは採用した技術を別のサービスでは利用しない**、などのサービスに適した技術を活用して柔軟性に富んだ開発を行える。

## 3. マイクロサービスのデメリット

1. 構成が複雑化する
小さなサービスを多く連携させることで、構成が複雑になる恐れがある。サービスをどのように分割するのかを検討する必要がある。

2. サービスごとの管理の問題
小規模で人数が少ない企業でマイクロサービスを導入した場合、**複数の一貫性がないシステムを少人数で管理しなければならない**。
結果として、サービス開発や運用コストが高くなってしまうことも考えられる。

## 4. マイクロサービスで欠かせない技術

マイクロサービスを構築する上では、「**API**」と「**コンテナ**」という2つの技術が欠かせない。

### 4-1. API

API: Application Programming Interface
**ソフトウェアの機能を共有する仕組み**のこと。
REST API, Graph API

#### 4-2. コンテナ

マイクロサービスでは、個々のプロセスに対してコンテナが用意され、プロセス間のやりとりはAPIを介して行う。機能変更の際はコンテナ単位で入れ替えを行えるので、迅速に対応できるのが特徴。

現在はDockerが主流で使用される。
