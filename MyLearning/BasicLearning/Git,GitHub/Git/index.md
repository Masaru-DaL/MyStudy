# Git

## 1. 変更操作

### 1-1. コミット時点に戻す

コミット時点であったファイルを消した場合、`git checkout <ファイル名>`で取り戻せる。

1. コミットする（コミット時点で`index.md`があるとする）
2. `rm index.md`
3. `git checkout index.md`
`Updated 1 path from the index`と出て、ファイルが取り戻せる。

この作業は、「Gitのリポジトリから`index.md`を取り出す」という意味。
リポジトリ配下の複数ファイルを変更した場合、ルートで`git checkout .`とすると全てのファイルを変更前に戻せる。

### 1-2. コミットを1つ前に戻す

1. `test.md`がある時点のコミット
2. `test.md`を消してコミットする
3. 1のコミットに戻す -> `test.md`がある状態に戻る
`-> git reset HEAD^ --hard`
`HEAD is now at f1f7d4a Git`

`git reset`は、「どこまでリセットするか」と「どのモードで戻すか」を指定する必要がある。

- どこまでリセットするか
  - `HEAD`: 一番先頭のコミット
  - `^`: 1つ手前（数を増やすとその分何個手前まで戻すということができる）
- どのモードで戻すか
  - `--soft`: 「変更」->「ステージング」->「コミット」の作業の内、最後の「コミット」だけをリセットする方法。
  - `--mixed`: 上の手順の「ステージング」までをリセットする方法。
  - `--hard`: 上の手順の「変更」から全てリセットする方法。
    - やり直しが効かない作業なので、ファイルを削除してしまったり、正常に動作していたファイルを壊してしまった場合などの場合に使用する。

### 1-3. コミットIDで指定して戻す

- 特定のコミットまで戻す
`git reset <コミットID> --hard`
コミットIDは**全文字**or**先頭10文字**でOK

## 2. tag

- タグの付与
`git tag <タグ名> <コミットID>`
コミットIDを省略すると最新のコミットにタグが付与される。

- タグの一覧
`git tag`

- タグの削除
`git tag -d <タグ名>`

## 3. .gitignore

### 3-1. 既存のファイル、ディレクトリを.gitignoreに追加する場合

`.gitignore`にはGitで管理するファイルから除外するファイル、拡張子などを記述する
一度コミットしたファイルは、後から`.gitignore`に追加するだけでは、除外対象にすることはできない。そのため、対象ファイルではなく対象ファイルのキャッシュファイルを削除すると反映される。

1. 既存のリポジトリに対象ファイル, 対象ディレクトリがある状態
2. `.gitignore`に対象ファイル, 対象ディレクトリを記述する
3. キャッシュの削除
   1. ファイル: `git rm --cached <ファイル名>`
   2. ディレクトリ: `git rm --cached -r <ディレクトリ名>`
4. add
5. commit

### 3-2. 
