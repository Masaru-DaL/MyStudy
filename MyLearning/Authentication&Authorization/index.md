# 認証と認可の違いとは

皆さんはWeb開発における「認証」と「認可」の違いについて説明できますか？
「認証」はAuthentication、「認可」はAuthorizationと言い、日本語も英語も似たような言葉です。また、Authという単語だけで「認証」を意味することもあり、「認証」と「認可」を同じような意味で捉えているケースが見受けられます。

言葉は似ていますが全く異なる概念を持つこの2つをしっかり理解していきましょう。

## 認証と認可の違い

認証とは、**誰であるかを確認すること**。
認可とは、**権限を許可すること**。
そして、認証は**サーバ**が行い、認可は**アプリケーション(サービス)**が行います。
両者は似たような言葉でもあるため、**認証をAuthN**、**認可をAuthZ**として区別する事が提唱されています。

## 認証とは

認証とは**誰であるかを確認すること**を意味します。
英語ではAuthenticationですが、
誰であるかを確認するには、**知識情報**、**生体情報**、**所持情報**の3つの情報から確認します。

1. 知識情報
"What you know"：あなたは何を知っていますか？という、**本人しか知り得ない情報のこと**です。
パスワードが知識情報に該当します。

1. 生体情報
"What you are"：あなたは誰ですか？という、**本人の特徴を示すこと**です。
生体認証、顔認証が生体情報に該当します。

3. 所持情報
"What you have"：あなたは何を持っていますか？という、**対象者が持っているもののこと**です。
対象者に対してSMSが送られ、それに応答する事でサービスが利用できるようになる仕組みが所持情報に該当します。

この3つの情報を2つ以上組み合わせて認証を行うことを「**多要素認証(MFA: Multi-Factor Authentication**」とよびます。

### 認証を行うまでのプロセス

認証は**サーバ**が行うと説明しました。実際に認証を行うまでのプロセスを追い、認証をサーバが行うというところを理解します。

認証までのプロセスは、まずユーザは何かしらのアプリケーションを利用する際にアカウントの新規登録を行います。**この情報はサーバ側で保存されます**。(アプリケーションにログイン機能が実装されている事とします)
そしてユーザは登録した内容(IDやパスワード)をフォームに入力し、ログインを試みます。

フォームから送られた情報の行き先がどこなのかというと、サーバです。**この時に認証が行われます**。
サーバは、フォームから送られてきた情報をチェックします。チェックする方法は、事前に登録されているユーザの情報とフォームに入力された情報が合っているかどうかです。

チェックした結果、情報が一致していれば認証されたということになり、ログインができます。もし情報が一致しない場合、認証されなかったとなり、ログインができません。

サーバが行う、ユーザの情報の確認作業が「認証」ということです。

ここまで説明を読むと、認証という言葉を特別意識しなくても普段の生活から自然と行なっている事に気付いたのではないでしょうか。

### 認可とは

認可とは、**権限を許可すること**を意味します。
認可は認証とは違い、想像がしにくいと思いますので、身近な所を例に挙げたいと思います。

自分の家を想像してみてください。
自分の家に入るためには何が必要でしょうか？

答えは「家の鍵」です。
家の鍵がないと家の中に入る事ができません。
また、自動車を乗る場合も「自動車の鍵」がないと乗る事ができません。

「家の鍵」は所有者に対して家に入る事を許可し、「自動車の鍵」は所有者に対して車を運転することを許可しています。つまり、家の鍵や自動車の鍵が認可する側に当たり、所有者に対して「認可」しているということです。

認可はこのようにモノを主体にして考えると分かりやすいです。
「家の鍵」や「自動車の鍵」も作られたモノです。
作られたサービスに対して開発者が**このサービスを使う人に対してここまではしていいよ**と、権限を与える事がWeb開発における「認可」ということです。

## 認証と認可が別れていなかった場合

認証と認可が別れていなかった場合、つまりどちらか一方しかなかった場合を想像してみたいと思います。

* case1. 認証だけの場合
Webサービスにアクセスする際に
