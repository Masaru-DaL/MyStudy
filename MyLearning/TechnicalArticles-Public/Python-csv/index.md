# Python csv基礎

この記事ではPythonのcsvについて解説します。

Pythonのcsvモジュールを操作は、アプリケーションから取り出したcsvファイルを使って独自の集計やデータの移行などさまざまな場所で活用することができます。

## csvとは

Pythonのcsvは、CSV（**C**omma **S**eparated **V**alues）形式で書かれたファイルを扱えるモジュールのことを指します。csvを使用する際は`import`が必要です。

CSVファイルはスプレッドシートやデータベース間で使用される最も一般的な形式です。Excelファイルと混同されがちですが、CSVファイルの方が**互換性が高い**という特徴があります。

## ファイル操作

csvモジュールはCSVファイルを扱いますので、まず簡単にPythonにおけるファイルの取り扱いを説明します。

- with
`with`はファイル操作を行える構文です。Pythonのファイル操作は`with`の他に`open()`関数がありますが、`with`はファイルを自動でクローズしてくれるなどのメリットがあります。本記事ではwithを使ってファイル操作を行います。

基本的な

## csvファイルの読み込み

### csv.reader

- csv.readerの基本的な使い方
- 行ごとのデータの取り出し
    - `csv.reader`オブジェクトはイテレータとみなせること
    - for文を使用する
- 二次元配列として取得する
    - リスト内包表記を使用する
- 行・列・要素の取得
    - 行の取得方法
    - 要素の取得方法
    - 列の取得方法（転置を行う）
- 文字列を数値に変換
    - デフォルトで各要素が文字列であること
    - 型変換を行う必要があること
- 区切り文字を指定
    - デフォルトが`,`（カンマ）であること
    - 任意の区切り文字の指定方法
- 引用符の扱い
    - 引数`quoting`の使い方
- 改行を含むファイルの場合
    - ファイル操作の時点で `newline = ‘’`としておくほうが安全
    - pythonドキュメントを引用する
- headerなどを含むファイルの場合
    - リスト内包表記で取り出す際にスライスと組み合わせる方法があることを説明する
    - 後述するpandasを使う方が楽だということも伝えるので上はさらっと

### csv.DictReader

- 基本的な使い方
- OrderedDictに触れる
- headerがない場合は`fieldnames`を使用する
- headerの削除方法
    - `pop()`を使用する
    - `popitem()`, `del`で出来ることをさらっと紹介

## csvモジュールを使った書き込み

### csv.writer

- 基本的な使い方
    - `writerow()`
    - `writerows()`
- 区切り文字の指定
- 引用符の扱い
- 改行を含むファイルの場合
- headerなどを加える場合

### csv.DictWriter

- 基本的な使い方
    - `writerow()`
    - `writerows()`
- キーが存在しない場合の`extrasaction`の使い方
    - `extrasaction`のデフォルトが`’raise’`であること

## まとめ

まとめ
